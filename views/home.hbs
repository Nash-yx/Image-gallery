<div class="home-wrapper">
      
      {{> sidebar}}
      {{> messages}}
      <!-- Main Content -->
      <div class="home-main">
        <!-- Header -->
        <div class="home-header">
          <div class="header-left">
            <h1 class="page-title">My Ideas</h1>
          </div>
          <div class="header-right">
            <button class="create-idea-btn">
              <i class="fas fa-plus"></i>
              <span>New Idea</span>
            </button>
          </div>
        </div>

        <!-- Ideas Statistics -->
        <div class="ideas-stats">
          <div class="stat-card">
            <div class="stat-header">
              <span class="stat-label">Total Ideas</span>
              {{#with (getTrendData ideas "total")}}
              <div class="stat-trend {{type}}">
                <i class="fas {{icon}}"></i>
                <span>{{value}}</span>
              </div>
              {{/with}}
            </div>
            <div class="stat-number">{{ideas.length}}</div>
          </div>
          
          <div class="stat-card">
            <div class="stat-header">
              <span class="stat-label">Public Ideas</span>
              {{#with (getTrendData ideas "public")}}
              <div class="stat-trend {{type}}">
                <i class="fas {{icon}}"></i>
                <span>{{value}}</span>
              </div>
              {{/with}}
            </div>
            <div class="stat-number">{{getPublicCount ideas}}</div>
          </div>
          
          <div class="stat-card">
            <div class="stat-header">
              <span class="stat-label">Private Ideas</span>
              {{#with (getTrendData ideas "private")}}
              <div class="stat-trend {{type}}">
                <i class="fas {{icon}}"></i>
                <span>{{value}}</span>
              </div>
              {{/with}}
            </div>
            <div class="stat-number">{{getPrivateCount ideas}}</div>
          </div>
          
          <div class="stat-card">
            <div class="stat-header">
              <span class="stat-label">This Week</span>
              {{#if (getThisWeekCount ideas)}}
              <div class="stat-trend positive">
                <i class="fas fa-arrow-up"></i>
                <span>{{getThisWeekCount ideas}}</span>
              </div>
              {{/if}}
            </div>
            <div class="stat-number">{{getThisWeekCount ideas}}</div>
          </div>
        </div>

        <!-- Search Bar -->
        <div class="search-container">
          <div class="search-wrapper">
            <div class="search-input-container">
              <i class="fas fa-search search-icon"></i>
              <input 
                type="text" 
                class="search-input" 
                placeholder="Search ideas..."
                autocomplete="off"
              >
            </div>
            <button class="filter-btn" title="Filter">
              <i class="fas fa-filter"></i>
            </button>
          </div>
        </div>

        <!-- Ideas Grid -->
        <div class="ideas-content">
          {{#if ideas.length}}
          <div class="ideas-grid">
            {{#each ideas}}
            <div class="idea-card" data-border="{{getBorderColor @index}}">
              <div class="idea-actions">
                <button class="action-btn" title="Pin">
                  <i class="fas fa-thumbtack"></i>
                </button>
              </div>
              <h3 class="idea-title">{{title}}</h3>
              <p class="idea-description">{{truncate content 80}}</p>
              {{#if isPublic}}
              <div class="idea-visibility">
                <span class="visibility-tag public">
                  <i class="fas fa-globe"></i> Public
                </span>
              </div>
              {{else}}
              <div class="idea-visibility">
                <span class="visibility-tag private">
                  <i class="fas fa-lock"></i> Private
                </span>
              </div>
              {{/if}}
              <div class="idea-footer">
                <span class="idea-date">{{formatDate createdAt}}</span>
                <div class="idea-footer-actions">
                  <button class="footer-btn" title="Edit" data-id="{{id}}">
                    <i class="fas fa-pencil-alt"></i>
                  </button>
                  <button class="footer-btn" title="Delete" data-id="{{id}}">
                    <i class="fas fa-trash"></i>
                  </button>
                </div>
              </div>
            </div>
            {{/each}}
          </div>
          {{else}}
          <!-- Empty State -->
          <div class="empty-state">
            <div class="empty-state-content">
              <div class="empty-state-icon">
                <i class="fas fa-lightbulb"></i>
              </div>
              <h3 class="empty-state-title">No ideas yet</h3>
              <p class="empty-state-message">Click the "New Idea" button above to start capturing your thoughts.</p>
            </div>
          </div>
          {{/if}}
        </div>
      </div>
    </div>

<!-- Create Idea Modal -->
<div id="createIdeaModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2 class="modal-title">Create New Idea</h2>
      <button class="modal-close" aria-label="Close modal">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <form id="createIdeaForm" class="modal-body" method="POST" action="/ideas">
      <div class="form-group">
        <label for="ideaTitle" class="form-label">Title</label>
        <input 
          type="text" 
          id="ideaTitle" 
          name="title" 
          class="form-input" 
          placeholder="Enter your idea title..."
          required
          maxlength="255"
        >
      </div>
      
      <div class="form-group">
        <label for="ideaContent" class="form-label">Content</label>
        <textarea 
          id="ideaContent" 
          name="content" 
          class="form-textarea" 
          placeholder="Describe your idea in detail..."
          rows="6"
          required
        ></textarea>
      </div>
      
      <div class="form-group">
        <div class="checkbox-group">
          <input type="checkbox" id="ideaPublic" name="isPublic" value="true">
          <label for="ideaPublic" class="checkbox-label">
            <span class="checkbox-text">Make this idea public</span>
            <span class="checkbox-hint">Public ideas can be discovered and shared with others</span>
          </label>
        </div>
      </div>
      
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary modal-cancel">Cancel</button>
        <button type="submit" class="btn btn-primary">
          <i class="fas fa-plus"></i>
          Create Idea
        </button>
      </div>
    </form>
  </div>
</div>